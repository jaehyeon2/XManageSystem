<?xml version="1.0" encoding="UTF-8"?>

<mapper namespace="com.example.project.dao.SUserDao">

	<select id="sltUser" resultType="com.example.project.model.common.UserModel">
		SELECT
			*
		FROM
			x_user
		WHERE
		<choose>
			<when test="userEmail!=null and userPwd!=null">
				user_email = #{userEmail} AND
				user_pwd = #{userPwd}
			</when>
			<when test="userNo!=null">
				user_no = #{userNo}
			</when>
		</choose>
		
	</select>
	
	<select id="sltUserList" resultType="com.example.project.model.common.UserModel">
		SELECT
			*
		FROM
			user
		WHERE
			#{searchCate} = #{searchKeyword}
		<!-- LIMIT -->
			
			
	</select>
	
	<select id="cntUserList" resultType="java.lang.Integer">
		SELECT
			count(*)
		FROM
			x_user
		WHERE
			user_nm = #{userNm}
	</select>
	
	<select id="checkEmail" resultType="boolean">
		SELECT
			if(count(*) = 0, 1, 0)
  		FROM
  			x_user
		WHERE
			user_email = #{userEmail}
	</select>
	
</mapper>